<script lang="ts" ✂prettier:content✂="CiAgICBpbXBvcnQgewogICAgICAgIGZpbGVkcm9wLAogICAgICAgIHR5cGUgRmlsZURyb3BPcHRpb25zLAogICAgICAgIHR5cGUgRmlsZXMsCiAgICB9IGZyb20gJ2ZpbGVkcm9wLXN2ZWx0ZSc7CiAgICBpbXBvcnQgeyBnZXROb3RpZmljYXRpb25zQ29udGV4dCB9IGZyb20gJ3N2ZWx0ZS1ub3RpZmljYXRpb25zJzsKICAgIGltcG9ydCB7IHBvcHVwIH0gZnJvbSAnLi4vLi4vc3RvcmVzJzsKICAgIGltcG9ydCB7IGdldEZpbGVDb250ZW50cyB9IGZyb20gJy4uLy4uL3V0aWxzL2ZpbGVzJzsKICAgIGltcG9ydCB7IEVSUl9OT1RJRklDQVRJT04gfSBmcm9tICcuLi8uLi91dGlscy9ub3RpZmljYXRpb25zJzsKICAgIGltcG9ydCB0eXBlIHsgUmVzdWx0IH0gZnJvbSAnLi4vLi4vdXRpbHMvcmVzdWx0JzsKCiAgI,CBjb25zdCB7IGFkZE5vdGlmaWNhdGlvbiB9ID0gZ2V0Tm90aWZpY2F0aW9uc0NvbnRleHQoKTsKCiAgICBleHBvcnQgY29uc3QgZmlsZU9wdGlvbnM6IEZpbGVEcm9wT3B0aW9ucyA9IHsKICAgICAgICBmaWxlTGltaXQ6IDEsCiAgICAgICAgd2luZG93RHJvcDogZmFsc2UKICAgIH07CgogICAgZXhwb3J0IGxldCBtZXNzYWdlOiBzdHJpbmc7CiAgICBleHBvcnQgbGV0IHJlYWRFbmNvZGluZzogJ1VURi04JyB8ICdiNjQnID0gJ1VURi04JzsKICAgIGV4cG9ydCBsZXQgc2hvd1RleHRCb3ggPSBmYWxzZTsKICAgIGV4cG9ydCBsZXQgdGV4dEJveFR5cGU6ICdwYXNzd29yZCcgfCAndGV4dCcgPSAndGV4dCc7CiAgICBleHBvcnQgbGV0IHRleHRCb3hMYWJlbCA9ICcnOwogICAgZXhwb3J0IGxldCB0ZXh0Qm94UGxhY2Vob2xkZXIgPSAnJzsKICAgIGV4cG9ydCBsZXQgd2l0aENvbnRlbnRzOiAoCiAgICAgICAgYm9keTogUmVzdWx0PHN0cmluZz4sCiAgICAgICAgdGV4dEJveENvbnRlbnQ/OiBzdHJpbmcKICAgICkgPT4gUHJvbWlzZTx2b2lkPiB8IHZvaWQ7CgogICAgbGV0IHRleHRCb3hDb250ZW50ID0gJyc7CgogICAgYXN5bmMgZnVuY3Rpb24gb25GaWxlRHJvcCAoZTogQ3VzdG9tRXZlbnQ8eyBmaWxlczogRmlsZXMgfT4pIHsKICAgICAgICBjb25zdCBmaWxlcyA9IGUuZGV0YWlsLmZpbGVzOwogICAgICAgIGlmIChmaWxlcy5yZWplY3RlZC5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgIHBvcHVwLnNldChudWxsKTsKICAgICAgICAgICAgYWRkTm90aWZpY2F0aW9uKHsKICAgICAgICAgICAgICAgIC4uLkVSUl9OT1RJRklDQVRJT04sCiAgICAgICAgICAgICAgICB0ZXh0OiAnRmlsZSBjb3VsZCBub3QgYmUgcmVhZCwgcGxlYXNlIHRyeSBhZ2FpbicKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgaWYgKGZpbGVzLmFjY2VwdGVkLmxlbmd0aCAhPT0gMSkgewogICAgICAgICAgICBwb3B1cC5zZXQobnVsbCk7CiAgICAgICAgICAgIGFkZE5vdGlmaWNhdGlvbih7CiAgICAgICAgICAgICAgICAuLi5FUlJfTk9USUZJQ0FUSU9OLAogICAgICAgICAgICAgICAgdGV4dDogJ1BsZWFzZSBzZWxlY3QgZXhhY3RseSBvbmUgZmlsZScKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgY29uc3QgZmlsZSA9IGZpbGVzLmFjY2VwdGVkWzBdOwogICAgICAgIGNvbnN0IGNvbnRlbnRzID0gYXdhaXQgZ2V0RmlsZUNvbnRlbnRzKGZpbGUsIHJlYWRFbmNvZGluZyk7CgogICAgICAgIGF3YWl0IHdpdGhDb250ZW50cyhjb250ZW50cywgdGV4dEJveENvbnRlbnQpOwoKICAgICAgICBwb3B1cC5zZXQobnVsbCk7CiAgICB9CgogICAgZnVuY3Rpb24gaGFuZGxlVGV4dEJveElucHV0IChlOiBFdmVudCkgewogICAgICAgIHRleHRCb3hDb250ZW50ID0gKGUudGFyZ2V0IGFzIEhUTUxJbnB1dEVsZW1lbnQpLnZhbHVlOwogICAgfQo=">{}</script>

<div>
    <div class="flex-center">
        {#if showTextBox}
            <label>
                {textBoxLabel}
                <input
                    class="text-box"
                    on:input="{handleTextBoxInput}"
                    placeholder="{textBoxPlaceholder}"
                    type="{textBoxType}"
                />
            </label>
        {/if}
    </div>

    <div
        class="dropzone"
        on:filedrop="{onFileDrop}"
        use:filedrop="{fileOptions}"
    >
        {message}
    </div>
</div>