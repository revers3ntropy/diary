<script lang="ts" ✂prettier:content✂="CiAgICBpbXBvcnQgeyB0b29sdGlwIH0gZnJvbSAnQHN2ZWx0ZS1wbHVnaW5zL3Rvb2x0aXBzJzsKICAgIGltcG9ydCBDbG91ZENoZWNrT3V0bGluZSBmcm9tICdzdmVsdGUtbWF0ZXJpYWwtaWNvbnMvQ2xvdWRDaGVja091dGxpbmUuc3ZlbHRlJzsKICAgIGltcG9ydCBTeW5jIGZyb20gJ3N2ZWx0ZS1tYXRlcmlhbC1pY29ucy9TeW5jLnN2ZWx0ZSc7CiAgICBpbXBvcnQgeyBnZXROb3RpZmljYXRpb25zQ29udGV4dCB9IGZyb20gJ3N2ZWx0ZS1ub3RpZmljYXRpb25zJzsKICAgIGltcG9ydCB0eXBlIHsgQXV0aCB9IGZyb20gJy4uLy4uL2xpYi9jb250cm9sbGVycy91c2VyJzsKICAgIGltcG9ydCB7IGFwaSB9IGZyb20gJy4uLy4uL2xpYi91dGlscy9hcGlSZXF1ZXN0JzsKICAgIGltcG9ydCB7IGRpc3BsYXlOb3RpZk9uRXJyIH0gZnJvbSAnLi4vLi4vbGliL3V0aWxzL25vdGlmaWNhdGlvbnMuanMnOwogICAgaW1wb3J0IHsKICAgICAgICBjdXJyZW50VHpPZmZzZXQsCiAgICAgICAgZm10RHVyYXRpb24sCiAgICAgICAgZm10VXRjLAogICAgICAgIG5vd1MsCiAgICB9IGZyb20gJy4uLy4uL2xpYi91dGlscy90aW1lLmpzJzsKCiAgICBjb25zdCB7IGFkZE5vdGlmaWNhdGlvbiB9ID0gZ2V0Tm90aWZpY2F0aW9uc0NvbnRleHQoKTsKCiAgICBleHBvcnQgbGV0IGlkOiBzdHJpbmc7CiAgICBleHBvcnQgbGV0IGF1dGg6IEF1dGg7CiAgICBleHBvcnQgbGV0IGtleTogc3RyaW5nOwogICAgZXhwb3J0IGxldCBkZWZhdWx0VmFsdWU6IHN0cmluZyB8IG51bWJlciB8IGJvb2xlYW47CiAgICBleHBvcnQgbGV0IG5hbWU6IHN0cmluZzsKICAgIGV4cG9ydCBsZXQgdHlwZTogc3RyaW5nOwogICAgZXhwb3J0IGxldCBkZXNjcmlwdGlvbjogc3RyaW5nOwogICAgZXhwb3J0IGxldCB1bml0ID0gJyc7CiAgICBleHBvcnQgbGV0IHZhbHVlOiBzdHJpbmcgfCBudW1iZXIgfCBib29sZWFuOwogICAgZXhwb3J0IGxldCBjcmVhdGVkOiBudW1iZXIgfCBudWxsID0gbnVsbDsKCiAgICBsZXQgc2F2aW5nID0gZmFsc2U7CgogICAgbGV0IGlucHV0VHlwZTogJ3RleHQnIHwgJ251bWJlcicgfCAnY2hlY2tib3gnOwoKICAgIGlmICghdHlwZSB8fCAha2V5KSB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgdHlwZSBvciBrZXknKTsKCiAgICBzd2l0Y2ggKHR5cGUpIHsKICAgICAgICBjYXNlICdzdHJpbmcnOgogICAgICAgICAgICBpbnB1dFR5cGUgPSAndGV4dCc7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgJ251bWJlcic6CiAgICAgICAgICAgIGlucHV0VHlwZSA9ICdudW1iZXInOwogICAgICAgICAgICBicmVhazsKICAgICAgI,CBjYXNlICdib29s,ZWFuJzoKICAgICAgICAgICAgaW5wdXRUeXBlID0gJ2NoZWNrYm94JzsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgZGVmYXVsdDoKICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbmtub3duIGlucHV0IHR5cGU6ICR7a2V5fWApOwogICAgfQoKICAgIGFzeW5jIGZ1bmN0aW9uIHVwZGF0ZVZhbHVlIChuZXdWYWx1ZTogc3RyaW5nIHwgbnVtYmVyIHwgYm9vbGVhbikgewogICAgICAgIHNhdmluZyA9IHRydWU7CgogICAgICAgIHZhbHVlID0gbmV3VmFsdWU7CiAgICAgICAgY3JlYXRlZCA9IG5vd1MoKTsKCiAgICAgICAgZGlzcGxheU5vdGlmT25FcnIoCiAgICAgICAgICAgIGFkZE5vdGlmaWNhdGlvbiwKICAgICAgICAgICAgYXdhaXQgYXBpLnB1dChhdXRoLCAnL3NldHRpbmdzJywgewogICAgICAgICAgICAgICAga2V5LAogICAgICAgICAgICAgICAgdmFsdWU6IG5ld1ZhbHVlCiAgICAgICAgICAgIH0pCiAgICAgICAgKTsKCiAgICAgICAgc2F2aW5nID0gZmFsc2U7CiAgICB9CgogICAgYXN5bmMgZnVuY3Rpb24gb25JbnB1dCAoZXZlbnQ6IEV2ZW50KSB7CiAgICAgICAgbGV0IHRhcmdldCA9IGV2ZW50LnRhcmdldCBhcyBIVE1MSW5wdXRFbGVtZW50OwogICAgICAgIGxldCBuZXdWYWx1ZTogYm9vbGVhbiB8IHN0cmluZyB8IG51bWJlciA9IHRhcmdldC52YWx1ZTsKICAgICAgICBpZiAodHlwZSA9PT0gJ2Jvb2xlYW4nKSB7CiAgICAgICAgICAgIG5ld1ZhbHVlID0gdGFyZ2V0LmNoZWNrZWQ7CiAgICAgICAgfQogICAgICAgIGlmICh0eXBlID09PSAnbnVtYmVyJykgewogICAgICAgICAgICBuZXdWYWx1ZSA9IE51bWJlcihuZXdWYWx1ZSk7CiAgICAgICAgfQoKICAgICAgICBhd2FpdCB1cGRhdGVWYWx1ZShuZXdWYWx1ZSk7CiAgICB9Cg==">{}</script>

<div class="wrapper">
    <div class="left">
        <div class="header">
            <div>
                <h3>
                    {#if saving}
                        <Sync size="{20}" class="gradient-icon" />
                    {:else}
                        <CloudCheckOutline size="{20}" />
                    {/if}
                    {name}
                </h3>
            </div>

            {#if created}
                <p
                    class="last-updated hide-mobile"
                    use:tooltip="{{
                        content: fmtUtc(
                            created,
                            currentTzOffset(),
                            'DD/MM/YYYY h:mm A'
                        )
                    }}"
                >
                    Last updated
                    {fmtDuration(nowS() - created)}
                    ago
                </p>
            {/if}
            {#if value !== defaultValue}
                <p class="restore hide-mobile">
                    <button on:click="{() => updateValue(defaultValue)}">
                        Restore default ({JSON.stringify(defaultValue)})
                    </button>
                </p>
            {/if}
        </div>
        {description}
    </div>
    <div class="right">
        <label class="label-for-{inputType}">
            <input
                checked="{inputType === 'checkbox' && !!value}"
                class="text-box"
                on:change="{onInput}"
                type="{inputType}"
                value="{value}"
            />
            <span class="checkmark"></span>
            {unit}
        </label>
    </div>
</div>

<style lang="less" ✂prettier:content✂="CiAgICBAaW1wb3J0ICcuLi8uLi9zdHlsZXMvbGF5b3V0JzsKICAgIEBpbXBvcnQgJy4uLy4uL3N0eWxlcy92YXJpYWJsZXMnOwoKICAgIC53cmFwcGVyIHsKICAgICAgICBkaXNwbGF5OiBncmlkOwogICAgICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogMWZyIDI1cmVtOwogICAgICAgIHBhZGRpbmc6IDFlbSAwLjVlbTsKCiAgICAgICAgQG1lZGlhIEBtb2JpbGUgewogICAgICAgICAgICBkaXNwbGF5OiBibG9jazsKICAgICAgICB9CgogICAgICAgIC5sZWZ0LAogICAgICAgIC5yaWdodCB7CiAgICAgICAgICAgIG1hcmdpbjogMC41ZW07CgogICAgICAgICAgICBAbWVkaWEgQG1vYmlsZSB7CiAgICAgICAgICAgICAgICBtYXJnaW46IDA7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9CgogICAgLmxhYmVsLWZvci1jaGVja2JveCB7CiAgICAgICAgLy8gaHR0cHM6Ly93d3cudzNzY2hvb2xzLmNvbS9ob3d0by9ob3d0b19jc3NfY3VzdG9tX2NoZWNrYm94LmFzcAogICAgICAgIGRpc3BsYXk6IGJsb2NrOwogICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTsKICAgICAgICBjdXJzb3I6IHBvaW50ZXI7CiAgICAgICAgLXdlYmtpdC11c2VyLXNlbGVjdDogbm9uZTsKICAgICAgICAtbW96LXVzZXItc2VsZWN0OiBub25lOwogICAgICAgIC1tcy11c2VyLXNlbGVjdDogbm9uZTsKICAgICAgICB1c2VyLXNlbGVjdDogbm9uZTsKCiAgICAgICAgLmNoZWNrbWFyayB7CiAgICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICAgICAgICAgICAgdG9wOiAwOwogICAgICAgICAgICBsZWZ0OiAwOwogICAgICAgICAgICBoZWlnaHQ6IDI1cHg7CiAgICAgICAgICAgIHdpZHRoOiAyNXB4OwogICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiBAbGlnaHQtYWNjZW50OwogICAgICAgICAgICBib3JkZXItcmFkaXVzOiBAYm9yZGVyLXJhZGl1czsKICAgICAgICB9CgogICAgICAgIGlucHV0IHsKICAgICAgICAgICAgcG9zaXRpb246IGFic29sdXRlOwogICAgICAgICAgICBvcGFjaXR5OiAwOwogICAgICAgICAgICBjdXJzb3I6IHBvaW50ZXI7CiAgICAgICAgICAgIGhlaWdodDogMDsKICAgICAgICAgICAgd2lkdGg6IDA7CgogICAgICAgICAgICAmOmNoZWNrZWQgfiAuY2hlY2ttYXJrIHsKICAgICAgICAgICAgICAgIGRpc3BsYXk6IGJsb2NrOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICAmOmhvdmVyIGlucHV0IH4gLmNoZWNrbWFyayB7CiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IEBib3JkZXItaGVhdnk7CiAgICAgICAgfQoKICAgICAgICAmOmhvdmVyIGlucHV0OmNoZWNrZWQgfiAuY2hlY2ttYXJrIHsKICAgICAgICAgICAgYmFja2dyb3VuZDogQGFjY2VudC1jb2xvci1zZWNvbmRhcnk7CiAgICAgICAgfQoKICAgICAgICBpbnB1dDpjaGVja2VkIH4gLmNoZWNrbWFyayB7CiAgICAgICAgICAgIGJhY2tncm91bmQ6IEBhY2NlbnQtZ3JhZGllbnQ7CiAgICAgICAgfQoKICAgICAgICAmIC5jaGVja21hcms6YWZ0ZXIgewogICAgICAgICAgICBjb250ZW50OiAnJzsKICAgICAgICAgICAgcG9zaXRpb246IGFic29sdXRlOwogICAgICAgICAgICBkaXNwbGF5OiBub25lOwogICAgICAgICAgICBsZWZ0OiA5cHg7CiAgICAgICAgICAgIHRvcDogNXB4OwogICAgICAgICAgICB3aWR0aDogNXB4OwogICAgICAgICAgICBoZWlnaHQ6IDEwcHg7CiAgICAgICAgICAgIGJvcmRlcjogc29saWQgYmxhY2s7CiAgICAgICAgICAgIGJvcmRlci13aWR0aDogMCAzcHggM3B4IDA7CiAgICAgICAgICAgIC13ZWJraXQtdHJhbnNmb3JtOiByb3RhdGUoNDVkZWcpOwogICAgICAgICAgICAtbXMtdHJhbnNmb3JtOiByb3RhdGUoNDVkZWcpOwogICAgICAgICAgICB0cmFuc2Zvcm06IHJvdGF0ZSg0NWRlZyk7CiAgICAgICAgfQoKICAgICAgICBpbnB1dDpjaGVja2VkIH4gLmNoZWNrbWFyazphZnRlciB7CiAgICAgICAgICAgIGRpc3BsYXk6IGJsb2NrOwogICAgICAgIH0KICAgIH0KCiAgICBpbnB1dCB7CiAgICAgICAgbWFyZ2luOiAwIDAgMC41cmVtIDA7CiAgICAgICAgYm9yZGVyLXJhZGl1czogQGJvcmRlci1yYWRpdXM7CgogICAgICAgIEBtZWRpYSBAbW9iaWxlIHsKICAgICAgICAgICAgbWFyZ2luLXRvcDogMC41cmVtOwogICAgICAgIH0KCiAgICAgICAgJjpub3QoW3R5cGU9J3RleHQnXSkgewogICAgICAgICAgICBjdXJzb3I6IHBvaW50ZXI7CiAgICAgICAgfQogICAgfQoKICAgIGxhYmVsIHsKICAgICAgICBpIHsKICAgICAgICAgICAgZm9udC1zaXplOiAwLjhyZW07CiAgICAgICAgfQogICAgfQoKICAgIC5oZWFkZXIgewogICAgICAgIHdpZHRoOiBmaXQtY29udGVudDsKICAgICAgICBkaXNwbGF5OiBmbGV4OwogICAgICAgIGZsZXgtZGlyZWN0aW9uOiByb3c7CiAgICAgICAgbWFyZ2luOiAwLjFlbSAwOwoKICAgICAgICBAbWVkaWEgQG1vYmlsZSB7CiAgICAgICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47CiAgICAgICAgfQoKICAgICAgICAmID4gKiB7CiAgICAgICAgICAgIHBhZGRpbmc6IDAgMWVtOwogICAgICAgICAgICBtYXJnaW46IDAuM2VtIDA7CiAgICAgICAgICAgIGJvcmRlci1yaWdodDogMXB4IHNvbGlkIEBib3JkZXI7CiAgICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjsKICAgICAgICAgICAgZGlzcGxheTogZ3JpZDsKICAgICAgICAgICAgcGxhY2UtaXRlbXM6IGNlbnRlcjsKCiAgICAgICAgICAgIEBtZWRpYSBAbW9iaWxlIHsKICAgICAgICAgICAgICAgIGRpc3BsYXk6IGJsb2NrOwogICAgICAgICAgICAgICAgdGV4dC1hbGlnbjogbGVmdDsKICAgICAgICAgICAgICAgIGJvcmRlci1yaWdodDogbm9uZTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgJjpsYXN0LWNoaWxkIHsKICAgICAgICAgICAgICAgIGJvcmRlci1yaWdodDogbm9uZTsKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgaDMgewogICAgICAgICAgICBkaXNwbGF5OiBncmlkOwogICAgICAgICAgICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IDQwcHggMWZyOwogICAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsKICAgICAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICAgICAgICAgICAgbWFyZ2luOiAwOwogICAgICAgIH0KCiAgICAgICAgLmxhc3QtdXBkYXRlZCB7CiAgICAgICAgICAgIGZvbnQtc2l6ZTogMC44cmVtOwogICAgICAgIH0KCiAgICAgICAgLnJlc3RvcmUgYnV0dG9uIHsKICAgICAgICAgICAgY29sb3I6IEBhY2NlbnQtY29sb3ItcHJpbWFyeTsKCiAgICAgICAgICAgICY6aG92ZXIgewogICAgICAgICAgICAgICAgY29sb3I6IEBhY2NlbnQtY29sb3Itc2Vjb25kYXJ5OwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQo="></style>