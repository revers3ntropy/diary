<script lang="ts" ✂prettier:content✂="CiAgICBpbXBvcnQgeyBvbk1vdW50IH0gZnJvbSAnc3ZlbHRlJzsKICAgIGltcG9ydCBDb2cgZnJvbSAnc3ZlbHRlLW1hdGVyaWFsLWljb25zL0NvZy5zdmVsdGUnOwogICAgaW1wb3J0IEltYWdlT3V0bGluZSBmcm9tICdzdmVsdGUtbWF0ZXJpYWwtaWNvbnMvSW1hZ2VPdXRsaW5lLnN2ZWx0ZSc7CiAgICBpbXBvcnQgTGFiZWxPdXRsaW5lIGZyb20gJ3N2ZWx0ZS1tYXRlcmlhbC1pY29ucy9MYWJlbE91dGxpbmUuc3ZlbHRlJzsKICAgIGltcG9ydCBOb3RlYm9vayBmcm9tICdzdmVsdGUtbWF0ZXJpYWwtaWNvbnMvTm90ZWJvb2suc3ZlbHRlJzsKICAgIGltcG9ydCB0eXBlIHsgQXBwIH0gZnJvbSAnLi4vLi4vYXBwJzsKICAgIGltcG9ydCBFbnRyeVRpdGxlcyBmcm9tICcuLi8uLi9saWIvY29tcG9uZW50cy9FbnRyeVRpdGxlcy5zdmVsdGUnOwogICAgaW1wb3J0IHR5cGUgeyBFbnRyeSB9IGZyb20gJy4uLy4uL2xpYi9jb250cm9sbGVycy9lbnRyeSc7CiAgICBpbXBvcnQgeyBvYmZ1c2NhdGVkIH0gZnJvbSAnLi4vLi4vbGliL3N0b3Jlcy5qcyc7CiAgICBpbXBvcnQgewogICAgICAgIGN1cnJlbnRUek9mZnNldCwKICAgICAgICBkYXlVdGNGcm9tVGltZXN0YW1wLAogICAgICAgIGZtdFV0YywKICAgICAgICBub3dTLAogICAgfSBmcm9tICcuLi8uLi9saWIvdXRpbHMvdGltZSc7CgogICAgZXhwb3J0IGxldCBkYXRhOiBBcHAuUGFnZURhdGEgJiB7CiAgICAgICAgdGl0bGVzOiBSZWNvcmQ8bnVtYmVyLCBFbnRyeVtdPjsKICAgICAgICBlbnRyaWVzOiBFbnRyeVtdOwogICAgfTsKCiAgICBvbk1vdW50KCgpID0+IChkb2N1bWVudC50aXRsZSA9IGBIb21lYCkpOwoKICAgIGZ1bmN0aW9uIGVudHJpZXNZZWFyc0Fnb1RvZGF5IChlbnRyaWVzOiBFbnRyeVtdKTogUmVjb3JkPHN0cmluZywgRW50cnlbXT4gewogICAgICAgIGNvbnN0IHJlczogUmVjb3JkPHN0cmluZywgRW50cnlbXT4gPSB7fTsKICAgICAgICBjb25zdCBub3dEYXRlID0gZm10VXRjKG5vd1MoKSwgY3VycmVudFR6T2Zmc2V0KCksICdNTS1ERCcpOwogICAgICAgIGNvbnN0IG5vd1llYXIgPSBmbXRVdGMobm93UygpLCBjdXJyZW50VHpPZmZzZXQoKSwgJ1lZWVknKTsKCiAgICAgICAgZm9yIChjb25zdCBlbnRyeSBvZiBlbnRyaWVzKSB7CiAgICAgICAgICAgIGNvbnN0IGVudHJ5RGF0ZSA9IGZtdFV0YygKICAgICAgICAgICAgICAgIGVudHJ5LmNyZWF0ZWQsCiAgICAgICAgICAgICAgICBlbnRyeS5jcmVhdGVkVFpPZmZzZXQsCiAgICAgICAgICAgICAgICAnTU0tREQnLAogICAgICAgICAgICApOwogICAgICAgICAgICAvLyBlbnRyaWVzIG9uIHRoZSBzYW1lIGRheSBhbmQgbW9udGgsIGJ1dCBub3QgdGhpcyB5ZWFyCiAgICAgICAgICAgIGlmIChlbnRyeURhdGUgPT09IG5vd0RhdGUpIHsKICAgICAgICAgICAgICAgIGNvbnN0IGVudHJ5WWVhciA9IGZtdFV0YygKICAgICAgICAgICAgICAgICAgICBlbnRyeS5jcmVhdGVkLAogICAgICAgICAgICAgICAgICAgIGVudHJ5LmNyZWF0ZWRUWk9mZnNldCwKICAgICAgICAgICAgICAgICAgICAnWVlZWScsCiAgICAgICAgICAgICAgICApOwogICAgICAgICAgICAgICAgaWYgKGVudHJ5WWVhciAhPT0gbm93WWVhcikgewogICAgICAgICAgICAgICAgICAgIGNvbnN0IHllYXJzQWdvID0gcGFyc2VJbnQobm93WWVhcikgLSBwYXJzZUludChlbnRyeVllYXIpOwogICAgICAgICAgICAgICAgICAgIGlmICghcmVzW3llYXJzQWdvXSkgewogICAgICAgICAgICAgICAgICAgICAgICByZXNbeWVhcnNBZ29dID0gW107CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIHJlc1t5ZWFyc0Fnb10ucHVzaChlbnRyeSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgcmV0dXJuIHJlczsKICAgIH0K">{}</script>

<main>
    <section>
        <div class="buttons">
            <a class="primary" href="/journal">
                <Notebook size="25" />
                Journal
            </a>
            <a class="icon-gradient-on-hover" href="/labels">
                <LabelOutline size="25" />
                Labels
            </a>
            <a class="icon-gradient-on-hover" href="/assets">
                <ImageOutline size="25" />
                Gallery
            </a>
            <a class="icon-gradient-on-hover" href="/settings">
                <Cog size="25" />
                Settings
            </a>
        </div>
    </section>
    {#if Object.keys(data.titles || {}).length}
        <section>
            <h1>Recent Entries</h1>
            <EntryTitles
                auth="{data}"
                titles="{data.titles}"
                obfuscated="{$obfuscated}"
            />
        </section>
    {:else}
        <section>
            <h1 class="recent-entries">Recent Entries</h1>
            <p class="recent-entries-text">
                Doesn't look like you have any entries yet, why not <a
                href="/journal?obfuscate=0">write one</a
            >?
            </p>
        </section>
    {/if}
    {#each Object.entries(entriesYearsAgoToday(data.entries)) as [yearsAgo, titles]}
        <section>
            <h1>
                {yearsAgo === '1' ? `A Year` : `${yearsAgo} Years`} Ago Today
            </h1>
            <EntryTitles
                titles="{{
                    [dayUtcFromTimestamp(
                        titles[0].created,
                        titles[0].createdTZOffset
                    )]: titles
                }}"
                obfuscated="{$obfuscated}"
                showTimeAgo="{false}"
                auth="{data}"
            />
        </section>
    {/each}
</main>

<style lang="less" ✂prettier:content✂="CiAgICBAaW1wb3J0ICcuLi8uLi9zdHlsZXMvdmFyaWFibGVzJzsKICAgIEBpbXBvcnQgJy4uLy4uL3N0eWxlcy9sYXlvdXQnOwoKICAgIC5idXR0b25zIHsKICAgICAgICBkaXNwbGF5OiBmbGV4OwogICAgICAgIGZsZXgtZGlyZWN0aW9uOiByb3c7CiAgICAgICAgZmxleC13cmFwOiB3cmFwOwoKICAgICAgICBAbWVkaWEgQG1vYmlsZSB7CiAgICAgICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47CiAgICAgICAgfQoKICAgICAgICBhLAogICAgICAgIGJ1dHRvbiB7CiAgICAgICAgICAgIGRpc3BsYXk6IGdyaWQ7CiAgICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgICAgICAgICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjsKICAgICAgICAgICAgLy8gYXNzdW1lZCBvbmUgc3ZnIGljb24gYW5kIHRoZW4gdGV4dAogICAgICAgICAgICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IDM1cHggMWZyOwogICAgICAgICAgICBmb250LXNpemU6IDEuMnJlbTsKICAgICAgICAgICAgcGFkZGluZzogMC42ZW0gMC44ZW07CiAgICAgICAgICAgIG1hcmdpbjogMWVtOwogICAgICAgICAgICB0ZXh0LWRlY29yYXRpb246IG5vbmU7CiAgICAgICAgICAgIHRyYW5zaXRpb246IGFsbCBAdHJhbnNpdGlvbjsKCiAgICAgICAgICAgICY6YWZ0ZXIgewogICAgICAgICAgICAgICAgZGlzcGxheTogbm9uZTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgJjpub3QoLnByaW1hcnkpIHsKICAgICAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IEBib3JkZXItcmFkaXVzOwogICAgICAgICAgICAgICAgYm9yZGVyOiAxcHggc29saWQgQGxpZ2h0LWFjY2VudDsKCiAgICAgICAgICAgICAgICAmOmhvdmVyIHsKICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiBAbGlnaHQtdi1hY2NlbnQ7CiAgICAgICAgICAgICAgICAgICAgY29sb3I6IEBhY2NlbnQtY29sb3Itc2Vjb25kYXJ5OwogICAgICAgICAgICAgICAgICAgIHRleHQtZGVjb3JhdGlvbjogbm9uZTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQoKICAgICAgICAgICAgQG1lZGlhIEBtb2JpbGUgewogICAgICAgICAgICAgICAgLmJvcmRlcmVkKCk7CgogICAgICAgICAgICAgICAgcGFkZGluZzogMC41ZW07CiAgICAgICAgICAgICAgICBtYXJnaW46IDAuMmVtOwogICAgICAgICAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQoKICAgIGgxIHsKICAgICAgICBmb250LXNpemU6IDEuNXJlbTsKICAgICAgICAvLyBuZWdhdGl2ZSBvbiB0aGUgYm90dG9tIHRvIHB1dCBpbiBsaW5lIHdpdGggdGhlIHRpdGxlcyBkdWUKICAgICAgICAvLyB0byB0aGUgdmlzaWJpbGl0eSB0b2dnbGUgYmVpbmcgaW5saW5lCiAgICAgICAgbWFyZ2luOiAxZW0gMWVtIC0yMnB4IDFlbTsKICAgICAgICBwYWRkaW5nOiAwLjVlbTsKICAgICAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQgQGxpZ2h0LWFjY2VudDsKICAgICAgICB0ZXh0LWFsaWduOiBzdGFydDsKCiAgICAgICAgQG1lZGlhIEBtb2JpbGUgewogICAgICAgICAgICBmb250LXNpemU6IDEuMnJlbTsKICAgICAgICB9CgogICAgICAgICYucmVjZW50LWVudHJpZXMgewogICAgICAgICAgICBtYXJnaW46IDFyZW07CiAgICAgICAgfQogICAgfQoKICAgIC5yZWNlbnQtZW50cmllcy10ZXh0IHsKICAgICAgICBtYXJnaW46IDAuNXJlbTsKICAgIH0K"></style>