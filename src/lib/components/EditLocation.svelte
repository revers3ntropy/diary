<script lang="ts" ✂prettier:content✂="CiAgICBpbXBvcnQgeyB0b29sdGlwIH0gZnJvbSAnQHN2ZWx0ZS1wbHVnaW5zL3Rvb2x0aXBzJzsKICAgIGltcG9ydCBTeW5jaW5nIGZyb20gJ3N2ZWx0ZS1tYXRlcmlhbC1pY29ucy9DbG91ZEFycm93VXBPdXRsaW5lLnN2ZWx0ZSc7CiAgICBpbXBvcnQgU3luY2VkIGZyb20gJ3N2ZWx0ZS1tYXRlcmlhbC1pY29ucy9DbG91ZENoZWNrT3V0bGluZS5zdmVsdGUnOwogICAgaW1wb3J0IEJpbiBmcm9tICdzdmVsdGUtbWF0ZXJpYWwtaWNvbnMvRGVsZXRlLnN2ZWx0ZSc7CiAgICBpbXBvcnQgeyBnZXROb3RpZmljYXRpb25zQ29udGV4dCB9IGZyb20gJ3N2ZWx0ZS1ub3RpZmljYXRpb25zJzsKICAgIGltcG9ydCB0eXBlIHsgQ2hhbmdlRXZlbnRIYW5kbGVyIH0gZnJvbSAnc3ZlbHRlL2VsZW1lbnRzJzsKICAgIGltcG9ydCB7IExvY2F0aW9uIH0gZnJvbSAnLi4vY29udHJvbGxlcnMvbG9jYXRpb24nOwogICAgaW1wb3J0IHR5cGUgeyBBdXRoIH0gZnJvbSAnLi4vY29udHJvbGxlcnMvdXNlcic7CiAgICBpbXBvcnQgeyBwb3B1cCB9IGZyb20gJy4uL3N0b3Jlcyc7CiAgICBpbXBvcnQgeyBhcGksIGFwaVBhdGggfSBmcm9tICcuLi91dGlscy9hcGlSZXF1ZXN0JzsKICAgIGltcG9ydCB7IGRpc3BsYXlOb3RpZk9uRXJyIH0gZnJvbSAnLi4vdXRpbHMvbm90aWZpY2F0aW9ucyc7CiAgICBpbXBvcnQgeyByb3VuZDFEUCB9IGZyb20gJy4uL3V0aWxzL3RleHQnOwoKICAgIGNvbnN0IHsgYWRkTm90aWZpY2F0aW9uIH0gPSBnZXROb3RpZmljYXRpb25zQ29udGV4dCgpOwoKICAgIGV4cG9ydCBsZXQgaXNJbkRpYWxvZyA9IGZhbHNlOwogICAgZXhwb3J0IGxldCBhdXRoOiBBdXRoOwogICAgZXhwb3J0IGxldCBpZDogc3RyaW5nOwogICAgZXhwb3J0IGxldCBuYW1lOiBzdHJpbmc7CiAgICBleHBvcnQgbGV0IHJhZGl1czogbnVtYmVyOwogICAgZXhwb3J0IGxldCBjcmVhdGVkOiBudW1iZXI7CiAgICBleHBvcnQgbGV0IGNyZWF0ZWRUWk9mZnNldDogbnVtYmVyOwogICAgZXhwb3J0IGxldCBsYXRpdHVkZTogbnVtYmVyOwogICAgZXhwb3J0IGxldCBsb25naXR1ZGU6IG51bWJlcjsKCiAgICBleHBvcnQgbGV0IG9uQ2hhbmdlOiAoKGxvY2F0aW9uOiBMb2NhdGlvbiB8IG51bGwpID0+IFByb21pc2U8dm9pZD4pIHwgbnVsbCA9CiAgICAgICAgbnVsbDsKCiAgICBsZXQgc3luY2VkID0gdHJ1ZTsKCiAgICBhc3luYyBmdW5jdGlvbiBzeW5jV2l0aFNlcnZlciAoKSB7CiAgICAgICAgc3luY2VkID0gZmFsc2U7CiAgICAgICAgZGlzcGxheU5vdGlmT25FcnIoCiAgICAgICAgICAgIGFkZE5vdGlmaWNhdGlvbiwKICAgICAgICAgICAgYXdhaXQgYXBpLnB1dChhdXRoLCBhcGlQYXRoKCcvbG9jYXRpb25zLz8nLCBpZCksIHsKICAgICAgICAgICAgICAgIG5hbWUsCiAgICAgICAgICAgICAgICByYWRpdXMsCiAgICAgICAgICAgIH0pLAogICAgICAgICk7CiAgICAgICAgaWYgKG9uQ2hhbmdlICE9PSBudWxsKSB7CiAgICAgICAgICAgIGF3YWl0IG9uQ2hhbmdlKAogICAgICAgICAgICAgICAgbmV3IExvY2F0aW9uKAogICAgICAgICAgICAgICAgICAgIGlkLAogICAgICAgICAgICAgICAgICAgIGNyZWF0ZWQsCiAgICAgICAgICAgICAgICAgICAgY3JlYXRlZFRaT2Zmc2V0LAogICAgICAgICAgICAgICAgICAgIG5hbWUsCiAgICAgICAgICAgICAgICAgICAgbGF0aXR1ZGUsCiAgICAgICAgICAgICAgICAgICAgbG9uZ2l0dWRlLAogICAgICAgICAgICAgICAgICAgIHJhZGl1cywKICAgICAgICAgICAgICAgICksCiAgICAgICAgICAgICk7CiAgICAgICAgfQogICAgICAgIHN5bmNlZCA9IHRydWU7CiAgICB9CgogICAgY29uc3Qgb25SYWRpdXNDaGFuZ2UgPSAoYXN5bmMgKHsgdGFyZ2V0IH0pID0+IHsKICAgICAgICBpZiAoCiAgICAgICAgICAgICF0YXJnZXQgfHwKICAgICAgICAgICAgISgndmFsdWUnIGluIHRhcmdldCkgfHwKICAgICAgICAgICAgdHlwZW9mIHRhcmdldC52YWx1ZSAhPT0gJ3N0cmluZycKICAgICAgICApIHsKICAgICAgICAgICAgdGhyb3cgdGFyZ2V0OwogICAgICAgIH0KICAgICAgICByYWRpdXMgPSBMb2NhdGlvbi5tZXRlcnNUb0RlZ3JlZXMocGFyc2VGbG9hdCh0YXJnZXQudmFsdWUpKTsKICAgICAgICBhd2FpdCBzeW5jV2l0aFNlcnZlcigpOwogICAgfSkgc2F0aXNmaWVzIENoYW5nZUV2ZW50SGFuZGxlcjxIVE1MSW5wdXRFbGVtZW50PjsKCiAgICBhc3luYyBmdW5jdGlvbiBiaW4gKCkgewogICAgICAgIGRpc3BsYXlOb3RpZk9uRXJyKAogICAgICAgICAgICBhZGROb3RpZmljYXRpb24sCiAgICAgICAgICAgIGF3YWl0IGFwaS5kZWxldGUoYXV0aCwgYXBpUGF0aCgnL2xvY2F0aW9ucy8/JywgaWQpKQogICAgICAgICk7CiAgICAgICAgcG9wdXAuc2V0KG51bGwpOwogICAgICAgIGlmIChvbkNoYW5nZSAhPT0gbnVsbCkgewogICAgICAgICAgICBhd2FpdCBvbkNoYW5nZShudWxsKTsKICAgICAgICB9CiAgICB9Cg==">{}</script>

<div>
    <div class="nav">
        {#if synced}
            <span
                use:tooltip="{{
                    content: 'Synced',
                    position: 'right'
                }}"
            >
                <Synced size="25" />
            </span>
        {:else}
            <span
                use:tooltip="{{
                    content: 'Syncing...',
                    position: 'right'
                }}"
            >
                <Syncing size="25" class="gradient-icon" />
            </span>
        {/if}

        {#if isInDialog}
            <button>
                <a class="flex-center" href="/location/{id}"> See more </a>
            </button>
        {/if}
        <button
            on:click="{bin}"
            use:tooltip="{{
                content: 'Delete',
                position: 'bottom'
            }}"
        >
            <Bin size="25" />
        </button>
    </div>
    <h2>
        <label>
            <input bind:value="{name}" on:change="{syncWithServer}" />
        </label>
    </h2>
    <label>
        <span class="text-light">Radius</span><br />
        <input
            min="0"
            on:change="{onRadiusChange}"
            step="0.1"
            type="number"
            value="{round1DP(Location.degreesToMeters(radius))}"
        />
        m
    </label>
</div>

<style lang="less" ✂prettier:content✂="CiAgICAubmF2IHsKICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7CiAgICAgICAgZGlzcGxheTogZmxleDsKICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtc3RhcnQ7CiAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICAgIH0K"></style>