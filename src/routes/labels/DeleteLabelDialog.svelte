<script lang="ts" ✂prettier:content✂="CiAgICBpbXBvcnQgeyBvbk1vdW50IH0gZnJvbSAnc3ZlbHRlJzsKICAgIGltcG9ydCB7IGdldE5vdGlmaWNhdGlvbnNDb250ZXh0IH0gZnJvbSAnc3ZlbHRlLW5vdGlmaWNhdGlvbnMnOwogICAgaW1wb3J0IEJvb2tTcGlubmVyIGZyb20gJy4uLy4uL2xpYi9jb21wb25lbnRzL0Jvb2tTcGlubmVyLnN2ZWx0ZSc7CiAgICBpbXBvcnQgTGFiZWxTZWxlY3QgZnJvbSAnLi4vLi4vbGliL2NvbXBvbmVudHMvTGFiZWxTZWxlY3Quc3ZlbHRlJzsKICAgIGltcG9ydCB0eXBlIHsgRW50cnkgfSBmcm9tICcuLi8uLi9saWIvY29udHJvbGxlcnMvZW50cnknOwogICAgaW1wb3J0IHR5cGUgeyBFdmVudCB9IGZyb20gJy4uLy4uL2xpYi9jb250cm9sbGVycy9ldmVudCc7CiAgICBpbXBvcnQgdHlwZSB7IExhYmVsIH0gZnJvbSAnLi4vLi4vbGliL2NvbnRyb2xsZXJzL2xhYmVsJzsKICAgIGltcG9ydCB0eXBlIHsgQXV0aCB9IGZyb20gJy4uLy4uL2xpYi9jb250cm9sbGVycy91c2VyJzsKICAgIGltcG9ydCB7IHBvcHVwIH0gZnJvbSAnLi4vLi4vbGliL3N0b3Jlcyc7CiAgICBpbXBvcnQgeyBhcGksIGFwaVBhdGggfSBmcm9tICcuLi8uLi9saWIvdXRpbHMvYXBpUmVxdWVzdCc7CiAgICBpbXBvcnQgeyBkaXNwbGF5Tm90aWZPbkVyciB9IGZyb20gJy4uLy4uL2xpYi91dGlscy9ub3RpZmljYXRpb25zJzsKCiAgICBjb25zdCB7IGFkZE5vdGlmaWNhdGlvbiB9ID0gZ2V0Tm90aWZpY2F0aW9uc0NvbnRleHQoKTsKCiAgICBleHBvcnQgbGV0IGF1dGg6IEF1dGg7CiAgICBleHBvcnQgbGV0IGlkOiBzdHJpbmc7CiAgICBleHBvcnQgbGV0IGNvbG91cjogc3RyaW5nOwogICAgZXhwb3J0IGxldCBuYW1lOiBzdHJpbmc7CiAgICBleHBvcnQgbGV0IHJlbG9hZE9uRGVsZXRlID0gdHJ1ZTsKCiAgICBsZXQgZW50cmllczogRW50cnlbXSA9IFtdOwogICAgbGV0IGV2ZW50czogRXZlbnRbXSA9IFtdOwogICAgbGV0IGxhYmVsczogTGFiZWxbXSB8IG51bGwgPSBudWxsOwoKICAgIGxldCBsb2FkZWQgPSBmYWxzZTsKICAgIGxldCBjaGFuZ2VMYWJlbElkOiBzdHJpbmc7CgogICAgYXN5bmMgZnVuY3Rpb24gcmVsb2FkRW50cmllcyAoKSB7CiAgICAgICAgbG9hZGVkID0gZmFsc2U7CiAgICAgICAgY29uc3QgZW50cmllc1JlcyA9IGRpc3BsYXlOb3RpZk9uRXJyKAogICAgICAgICAgICBhZGROb3RpZmljYXRpb24sCiAgICAgICAgICAgIGF3YWl0IGFwaS5nZXQoYXV0aCwgYC9lbnRyaWVzYCwgeyBsYWJlbElkOiBpZCB9KSwKICAgICAgICApOwogICAgICAgIGVudHJpZXMgPSBlbnRyaWVzUmVzLmVudHJpZXM7CiAgICAgICAgY29uc3QgZXZlbnRzUmVzID0gZGlzcGxheU5vdGlmT25FcnIoCiAgICAgICAgICAgIGFkZE5vdGlmaWNhdGlvbiwKICAgICAgICAgICAgYXdhaXQgYXBpLmdldChhdXRoLCBgL2V2ZW50c2AsIHsgbGFiZWxJZDogaWQgfSksCiAgICAgICAgKTsKICAgICAgICBldmVudHMgPSBldmVudHNSZXMuZXZlbnRzLmZpbHRlcihlID0+IGUubGFiZWw/LmlkID09PSBpZCk7CgogICAgICAgIGNvbnN0IGxhYmVsc1JlcyA9IGRpc3BsYXlOb3RpZk9uRXJyKAogICAgICAgICAgICBhZGROb3RpZmljYXRpb24sCiAgICAgICAgICAgIGF3YWl0IGFwaS5nZXQoYXV0aCwgJy9sYWJlbHMnKSwKICAgICAgICApOwogICAgICAgIGxhYmVscyA9IGxhYmVsc1Jlcy5sYWJlbHM7CgogICAgICAgIGxvYWRlZCA9IHRydWU7CiAgICB9CgogICAgYXN5bmMgZnVuY3Rpb24gcm1MYWJlbCAoKSB7CiAgICAgICAgZGlzcGxheU5vdGlmT25FcnIoCiAgICAgICAgICAgIGFkZE5vdGlmaWNhdGlvbiwKICAgICAgICAgICAgYXdhaXQgYXBpLmRlbGV0ZShhdXRoLCBhcGlQYXRoKGAvbGFiZWxzLz9gLCBpZCksIHsKICAgICAgICAgICAgICAgIHN0cmF0ZWd5OiAncmVtb3ZlJywKICAgICAgICAgICAgfSksCiAgICAgICAgKTsKICAgICAgICBpZiAocmVsb2FkT25EZWxldGUpIHsKICAgICAgICAgICAgbG9jYXRpb24ucmVsb2FkKCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcG9wdXAuc2V0KG51bGwpOwogICAgICAgIH0KICAgIH0KCiAgICBhc3luYyBmdW5jdGlvbiByZWFzc2lnbiAoKSB7CiAgICAgICAgZGlzcGxheU5vdGlmT25FcnIoCiAgICAgICAgICAgIGFkZE5vdGlmaWNhdGlvbiwKICAgICAgICAgICAgYXdhaXQgYXBpLmRlbGV0ZShhdXRoLCBhcGlQYXRoKGAvbGFiZWxzLz9gLCBpZCksIHsKICAgICAgICAgICAgICAgIHN0cmF0ZWd5OiAncmVhc3NpZ24nLAogICAgICAgICAgICAgICAgbmV3TGFiZWxJZDogY2hhbmdlTGFiZWxJZCwKICAgICAgICAgICAgfSksCiAgICAgICAgKTsKICAgICAgICBpZiAocmVsb2FkT25EZWxldGUpIHsKICAgICAgICAgICAgbG9jYXRpb24ucmVsb2FkKCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcG9wdXAuc2V0KG51bGwpOwogICAgICAgIH0KICAgIH0KCiAgICBmdW5jdGlvbiBjYW5jZWwgKCkgewogICAgICAgIHBvcHVwLnNldChudWxsKTsKICAgIH0KCiAgICBmdW5jdGlvbiBmaWx0ZXIgKGxhYmVsOiBMYWJlbCkgewogICAgICAgIHJldHVybiBsYWJlbC5pZCAhPT0gaWQ7CiAgICB9CgogICAgb25Nb3VudChyZWxvYWRFbnRyaWVzKTsK">{}</script>

<div>
    <h1>Delete Label '{name}'</h1>
    <p>
        There are {entries.length} entries and {events.length} events with this label.
    </p>

    {#if !loaded}
        <BookSpinner />
    {:else}
        <div class="options">
            <div>
                {#if labels}
                    <LabelSelect
                        auth="{auth}"
                        bind:value="{changeLabelId}"
                        filter="{filter}"
                        labels="{labels}"
                    />
                {:else}
                    Loading...
                {/if}
                <button on:click="{reassign}">
                    Give Different Label to Entries/Events with this Label
                </button>
            </div>

            <h2>OR</h2>

            <div>
                <button on:click="{rmLabel}">
                    Delete Label and Remove from Entries/Events
                </button>
            </div>

            <div class="cancel">
                <button on:click|self="{cancel}"> Cancel</button>
            </div>
        </div>
    {/if}
</div>

<style lang="less" ✂prettier:content✂="CiAgICBAaW1wb3J0ICcuLi8uLi9zdHlsZXMvdmFyaWFibGVzLmxlc3MnOwoKICAgIC5vcHRpb25zIHsKICAgICAgICBkaXNwbGF5OiBmbGV4OwogICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47CiAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICAgICAgICBtYXJnaW4tdG9wOiAycmVtOwoKICAgICAgICAmID4gZGl2IHsKICAgICAgICAgICAgZGlzcGxheTogZmxleDsKICAgICAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICAgICAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7CiAgICAgICAgICAgIGJvcmRlcjogMXB4IHNvbGlkIEBib3JkZXI7CiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IEBib3JkZXItcmFkaXVzOwogICAgICAgICAgICBwYWRkaW5nOiAwLjZlbTsKICAgICAgICAgICAgbWFyZ2luOiAwLjVlbTsKCiAgICAgICAgICAgIGJ1dHRvbiB7CiAgICAgICAgICAgICAgICBib3JkZXItcmFkaXVzOiBAYm9yZGVyLXJhZGl1czsKICAgICAgICAgICAgICAgIG1hcmdpbjogMC41cmVtOwogICAgICAgICAgICAgICAgcGFkZGluZzogMC4zcmVtOwoKICAgICAgICAgICAgICAgICY6aG92ZXIgewogICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6IEBhY2NlbnQtY29sb3ItZGFuZ2VyOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CgogICAgICAgICAgICAmLmNhbmNlbCB7CiAgICAgICAgICAgICAgICBib3JkZXI6IG5vbmU7CgogICAgICAgICAgICAgICAgYnV0dG9uIHsKICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiAwLjVyZW07CgogICAgICAgICAgICAgICAgICAgICY6aG92ZXIgewogICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiBAbGlnaHQtYWNjZW50OwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KCiAgICBidXR0b24gewogICAgICAgIGRpc3BsYXk6IGZsZXg7CiAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsKICAgIH0K"></style>